<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>掷骰子打 Boss</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="game-container">
    <header class="game-header">
      <h1>⚔️ 掷骰子打 Boss</h1>
    </header>

    <section class="battle-stage" aria-label="战斗舞台">
      <div id="turnToast" class="turn-toast" role="status" aria-live="polite" aria-atomic="true"></div>

      <article class="fighter boss" id="bossCard">
        <img src="assets/boss-art.svg" class="character-art" alt="Boss 原画：暗影巨龙" />
        <div class="fighter-meta">
          <h2>Boss</h2>
          <p class="hp-value"><span id="bossHp">20</span> / <span id="bossMaxHp">20</span></p>
        </div>
        <div class="dice-panel boss-dice-panel" aria-live="polite">
          <p class="dice-title">Boss 骰子（<span id="bossDiceMax">D10</span>）</p>
          <div id="bossDice" class="dice boss-dice" role="img" aria-label="Boss 当前点数 1"></div>
          <p class="dice-value">点数：<span id="bossRollValue">1</span></p>
        </div>
      </article>

      <article class="fighter player" id="playerCard">
        <img src="assets/player-art.svg" class="character-art" alt="玩家原画：雷属性训练家" />
        <div class="fighter-meta">
          <h2>玩家</h2>
          <p class="hp-value"><span id="playerHp">20</span> / 20</p>
        </div>
        <div class="dice-panel player-dice-panel" aria-live="polite">
          <p class="dice-title">玩家骰子</p>
          <div id="playerDice" class="dice player-dice" role="img" aria-label="玩家当前点数 1"></div>
          <p class="dice-value">点数：<span id="playerRollValue">1</span></p>
        </div>
      </article>

      <p id="result" class="result">点击“玩家行动”开始战斗！</p>
    </section>

    <section class="controls">
      <button id="rollButton" class="roll-button" type="button">玩家行动</button>
      <button id="restartButton" class="secondary-button" type="button">重新开始</button>
      <div id="skillPanel" class="skill-panel" aria-label="技能栏"></div>
      <p class="stats">回合数：<span id="roundCount">0</span></p>
    </section>
  </main>

  <button id="helpButton" class="help-button" type="button" aria-haspopup="dialog" aria-controls="rulesDialog">玩法说明</button>
  <dialog id="rulesDialog" class="rules-dialog" aria-label="玩法说明">
    <h2>玩法说明</h2>
    <ul>
      <li>点击“玩家行动”，玩家掷 6 面骰并对 Boss 造成等同点数的伤害。</li>
      <li>若 Boss 被击败，会立刻重生：生命值 +10，攻击骰上限 +1。</li>
      <li>Boss 回合会掷攻击骰反击，点数即伤害；玩家生命归零则失败。</li>
      <li>可在每轮前选择技能，技能有次数与冷却限制。</li>
    </ul>
    <button id="closeRulesButton" class="secondary-button" type="button">关闭</button>
  </dialog>

  <script src="script.js"></script>
</body>
</html>
